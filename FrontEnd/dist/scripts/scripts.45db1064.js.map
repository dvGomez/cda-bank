{"version":3,"sources":["scripts.js"],"names":["angular","module","config","$routeProvider","when","templateUrl","controller","controllerAs","otherwise","redirectTo","run","Auth","Users","$rootScope","$location","tryConnect","$on","event","next","current","console","log","user","undefined","path","updateProfile","constant","apiEndpoint","$scope","saque","deposito","transferencia","extrato","then","data","extratos","sacar","UserId","id","Swal","fire","message","result","location","reload","depositar","transferir","FromUserId","timeSince","date","timeS","Date","parse","seconds","Math","floor","interval","service","$http","$cookies","ENVIROMENT","ApiUrl","storage","window","localStorage","login","get","saveCredentials","setItem","JSON","stringify","tryConn","logout","removeItem","getItem","token","goToLogin","authenticate","getAll","post","deposit","transfer","$templateCache","put"],"mappings":"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","sourcesContent":["'use strict';\n\n/**\n * @ngdoc overview\n * @name frontEndApp\n * @description\n * # frontEndApp\n *\n * Main module of the application.\n */\nangular\n  .module('frontEndApp', [\n    'app.config',\n    'ngAnimate',\n    'ngAria',\n    'ngCookies',\n    'ngMessages',\n    'ngResource',\n    'ngRoute',\n    'ngSanitize',\n    'ngTouch'\n  ])\n  .config(function ($routeProvider) {\n    $routeProvider\n      .when('/', {\n        templateUrl: 'views/main.html',\n        controller: 'MainCtrl',\n        controllerAs: 'main'\n      })\n      .when('/about', {\n        templateUrl: 'views/about.html',\n        controller: 'AboutCtrl',\n        controllerAs: 'about'\n      })\n      .when('/login', {\n        templateUrl: 'views/login.html',\n        controller: 'LoginCtrl',\n        controllerAs: 'login'\n      })\n      .when('/customers', {\n        templateUrl: 'views/customers.html',\n        controller: 'CustomersCtrl',\n        controllerAs: 'customers'\n      })\n      .when('/resources', {\n        templateUrl: 'views/resources.html',\n        controller: 'ResourcesCtrl',\n        controllerAs: 'resources'\n      })\n      .otherwise({\n        redirectTo: '/'\n      });\n  }).run(function(Auth, Users, $rootScope, $location){\n\n    Auth.tryConnect();\n\n    $rootScope.$on('$locationChangeStart', function (event, next, current) {\n      // redirect to login page if not logged in\n      console.log('Trocando de página...');\n      var user = $rootScope.user;\n      console.log(\"Verificando login de usuário...\");\n      if (user === undefined) {\n        $location.path('/login');\n        // $rootScope.hideLayouts = true;\n        console.log(\"Usuário não encontrado, redirecionando...\");\n        console.log('HideLayouts');\n      } else {\n        console.log(\"Usuário encontrado...\");\n        // $rootScope.hideLayouts = false;\n        console.log('Usuário:', user);\n        Users.updateProfile();\n\n      }\n    });\n\n  });\n\r\n(function(){angular.module('app.config', [])\r\n\r\n.constant('ENVIROMENT', {apiEndpoint:'http://localhost:50542/api'})\r\n\r\n;})();\r\n'use strict';\n\n/**\n * @ngdoc function\n * @name frontEndApp.controller:MainCtrl\n * @description\n * # MainCtrl\n * Controller of the frontEndApp\n */\nangular.module('frontEndApp')\n  .controller('MainCtrl', function ($scope, Users, $rootScope) {\n    \n    $scope.saque = {};\n    $scope.deposito = {};\n    $scope.transferencia = {};\n\n    Users.extrato().then(function(data){\n      console.log(data);\n      $scope.extratos = data;\n    });\n\n    $scope.sacar = function(){\n      $scope.saque.UserId = $rootScope.user.id;\n      Users.sacar($scope.saque).then(function(data){\n        Swal.fire(data.message)\n        .then((result) => {\n          location.reload();\n        });\n      });\n    }\n\n    $scope.depositar = function(){\n      $scope.deposito.UserId = $rootScope.user.id;\n      Users.depositar($scope.deposito).then(function(data){\n        Swal.fire(data.message)\n        .then((result) => {\n          location.reload();\n        });\n      });;\n    }\n\n    $scope.transferir = function(){\n      $scope.transferencia.FromUserId = $rootScope.user.id;\n      Users.transferir($scope.transferencia).then(function(data){\n        Swal.fire(data.message)\n        .then((result) => {\n          location.reload();\n        });\n      });\n    };\n\n    $scope.timeSince = function(date){\n      return timeS(Date.parse(date));\n    };\n\n    function timeS(date){\n      var seconds = Math.floor((new Date() - date) / 1000);\n    \n      var interval = Math.floor(seconds / 31536000);\n    \n      if (interval > 1) {\n        return interval + \" years ago\";\n      }\n      interval = Math.floor(seconds / 2592000);\n      if (interval > 1) {\n        return interval + \" months ago\";\n      }\n      interval = Math.floor(seconds / 86400);\n      if (interval > 1) {\n        return interval + \" days ago\";\n      }\n      interval = Math.floor(seconds / 3600);\n      if (interval > 1) {\n        return interval + \" hours ago\";\n      }\n      interval = Math.floor(seconds / 60);\n      if (interval > 1) {\n        return interval + \" minutes ago\";\n      }\n      return Math.floor(seconds) + \" seconds ago\";\n  }\n\n  });\n\r\n'use strict';\n\n/**\n * @ngdoc service\n * @name frontEndApp.Auth\n * @description\n * # Auth\n * Service in the frontEndApp.\n */\nangular.module('frontEndApp')\n.service('Auth', function ($http, $rootScope, $cookies,ENVIROMENT) {\n\n  const ApiUrl = ENVIROMENT.apiEndpoint+\"/user/\";\n  var storage = window.localStorage;\n\n  this.login = function (id) {\n    console.log('Realizando chamada de login...');\n    return $http.get(ApiUrl + \"authenticate/\"+id).then(\n      function ({ data }) {\n        console.log('Retorno da API de login:', data);\n        saveCredentials(data);\n        return data;\n      },\n      function ({ data }) {\n        console.log('Retorno da API de login (erro):', data);\n        return data;\n      }\n    )\n  }\n\n  function saveCredentials (user) {\n\n    console.log(\"Salvando credenciais de usuário...\", user);\n    // $http.defaults.headers.common['Authorization'] = token; // jshint ignore:line\n    // storage.setItem('userToken', token);\n    storage.setItem('user', JSON.stringify(user));\n    tryConn();\n\n  }\n\n  this.logout = function(){\n    // storage.removeItem('userToken');\n    storage.removeItem('user');\n    location.reload();\n  }\n\n  function tryConn(){\n      var user = JSON.parse(storage.getItem('user'));\n      // $http.defaults.headers.common['Authorization'] = token;\n      $rootScope.user = user;\n      return true;\n  }\n\n  this.tryConnect = function(){\n    var token = storage.getItem('user');\n    if(token){\n      var user = JSON.parse(storage.getItem('user'));\n      // $http.defaults.headers.common['Authorization'] = token;\n      $rootScope.user = user;\n      return true;\n    } \n    return false;\n  }\n});\n\r\n'use strict';\n\n/**\n * @ngdoc function\n * @name frontEndApp.controller:LoginCtrl\n * @description\n * # LoginCtrl\n * Controller of the frontEndApp\n */\nangular.module('frontEndApp')\n  .controller('LoginCtrl', function ($scope, Auth, $location, $rootScope) {\n    var user = $rootScope.user;\n    console.log(\"Verificando login de usuário...\");\n    if (user != undefined) {\n      $location.path('/');\n    }\n\n    $scope.goToLogin = function(){\n      if($scope.authenticate){\n        Auth.login($scope.authenticate.id);\n      }\n    }\n\n  });\n\r\n'use strict';\n\n/**\n * @ngdoc service\n * @name frontEndApp.Users\n * @description\n * # Users\n * Service in the frontEndApp.\n */\nangular.module('frontEndApp')\n  .service('Users', function ($http, ENVIROMENT, $rootScope) {\n    // AngularJS will instantiate a singleton by calling \"new\" on this function\n\n    this.getAll = function(){\n      return $http.get(ENVIROMENT.apiEndpoint + '/user')\n      .then(function(data){\n        return data.data;\n      })\n    };\n\n    this.updateProfile = function(){\n      return $http.get(ENVIROMENT.apiEndpoint + '/user/'+$rootScope.user.id)\n      .then(function(data){\n        console.log('USER:', data.data);\n        $rootScope.user = data.data;\n      })\n    }\n\n    this.sacar = function(saque){\n      return $http.post(ENVIROMENT.apiEndpoint + '/user/withdraw', saque)\n      .then(function(data){\n        return data.data;\n      });\n    };\n\n    this.depositar = function(deposit){\n      return $http.post(ENVIROMENT.apiEndpoint + '/user/deposit', deposit)\n      .then(function(data){\n        return data.data;\n      });\n    };\n\n    this.transferir = function(transfer){\n      return $http.post(ENVIROMENT.apiEndpoint + '/user/transfer', transfer)\n      .then(function(data){\n        return data.data;\n      });\n    };\n\n    this.extrato = function(){\n      return $http.get(ENVIROMENT.apiEndpoint + '/register/extrato/'+$rootScope.user.id)\n      .then(function(data){\n        return data.data;\n      });\n    };\n\n    // this.add = function(user){\n    //   return $http.post(ENVIROMENT.apiEndpoint + '/user', user)\n    //   .then(function(data){\n    //     return data.data;\n    //   })\n    // };\n\n    // this.delete = function(id){\n    //   return $http.delete(ENVIROMENT.apiEndpoint + '/user/' + id)\n    //   .then(function(data){\n    //     return data.data;\n    //   })\n    // };\n\n  });\n\r\nangular.module('frontEndApp').run(['$templateCache', function($templateCache) {\n  'use strict';\r\n\r\n  $templateCache.put('views/login.html',\r\n    \"<style>body {\\n\" +\r\n    \"        background: #0c111f;\\n\" +\r\n    \"    }</style> <div class=\\\"authentication-theme auth-style_1\\\"> <div class=\\\"row\\\"> <div class=\\\"col-12 logo-section text-center\\\"> <img src=\\\"./assets/images/logo.png\\\">  </div> </div>  <div class=\\\"row\\\"> <div class=\\\"col-lg-5 col-md-7 col-sm-9 col-11 mx-auto\\\"> <div class=\\\"grid\\\"> <div class=\\\"grid-body\\\"> <div class=\\\"row\\\"> <div class=\\\"col-lg-7 col-md-8 col-sm-9 col-12 mx-auto form-wrapper\\\"> <form action=\\\"#\\\"> <div class=\\\"form-group input-rounded\\\"> <input type=\\\"text\\\" class=\\\"form-control text-center\\\" placeholder=\\\"ID DO JOGADOR\\\" ng-model=\\\"authenticate.id\\\"> </div> <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-block\\\" ng-click=\\\"goToLogin()\\\"> ENTRAR </button> </form> <div class=\\\"signup-link\\\"> <p>Para receber o auxílio emergêncial do cidade alta</p> <a href=\\\"#\\\">Clique aqui</a> </div> </div> </div> </div> </div> </div> </div> <div class=\\\"auth_footer\\\"> <p class=\\\"text-muted text-center\\\">© Developed by GMZ for CDA Applyment</p> </div> </div> \"\r\n  );\r\n\r\n\r\n  $templateCache.put('views/main.html',\r\n    \"<div class=\\\"row\\\"> <div class=\\\"col-12 py-5\\\"> <h4>Dashboard</h4> <p class=\\\"text-gray\\\">Welcome aboard, {{user.nome}}</p> </div> </div> <div class=\\\"row\\\"> <div class=\\\"col-12 equel-grid\\\"> <div class=\\\"grid\\\"> <div class=\\\"grid-body text-gray text-center\\\"> <div class=\\\"\\\"> <h4 class=\\\"text-center text-primary\\\">R$ {{user.saldo}}</h4>  </div> <p class=\\\"text-black mt-3\\\">Saldo Atual</p> </div> </div> </div> </div> <div class=\\\"col-12 text-center\\\"> <button type=\\\"button\\\" class=\\\"m-1 btn btn-primary\\\" data-toggle=\\\"modal\\\" data-target=\\\"#sacarModal\\\">Saque</button> <button type=\\\"button\\\" class=\\\"m-1 btn btn-primary\\\" data-toggle=\\\"modal\\\" data-target=\\\"#depositoModal\\\">Deposito</button> <button type=\\\"button\\\" class=\\\"m-1 btn btn-primary\\\" data-toggle=\\\"modal\\\" data-target=\\\"#transferenciaModal\\\">Transferência</button> </div> <div class=\\\"col-12 mt-4 equel-grid\\\"> <div class=\\\"grid\\\"> <div class=\\\"grid-body\\\"> <div class=\\\"split-header\\\"> <p class=\\\"card-title\\\">Extrato</p> <div class=\\\"btn-group\\\"> <div class=\\\"dropdown-menu dropdown-menu-right\\\"> <a class=\\\"dropdown-item\\\" href=\\\"#\\\">View all</a> </div> </div> </div> <div class=\\\"vertical-timeline-wrapper\\\"> <div class=\\\"timeline-vertical dashboard-timeline\\\"> <div class=\\\"activity-log\\\" ng-repeat=\\\"extrato in extratos\\\"> <p class=\\\"log-name\\\"> {{extrato.type}} <span class=\\\"text-warning\\\" ng-if=\\\"extrato.type == 'Transfer' && extrato.transferUser != user.id\\\"> - R${{extrato.total}}</span> <span class=\\\"text-success\\\" ng-if=\\\"extrato.type == 'Transfer' && extrato.transferUser == user.id\\\"> + R${{extrato.total}}</span> <span class=\\\"text-warning\\\" ng-if=\\\"extrato.type == 'Withdraw'\\\"> - R${{extrato.total}}</span> <span class=\\\"text-success\\\" ng-if=\\\"extrato.type == 'Deposit'\\\"> + R${{extrato.total}}</span> </p> <div ng-if=\\\"extrato.type == 'Transfer' && extrato.transferUser == user.id\\\" class=\\\"log-details\\\">Você recebeu <span class=\\\"text-primary ml-1\\\">+ R${{extrato.total}}</span> do jogador <span class=\\\"text-primary ml-1\\\">{{extrato.userId}}</span></div> <div ng-if=\\\"extrato.type == 'Transfer' && extrato.transferUser != user.id\\\" class=\\\"log-details\\\">Você transferiu <span class=\\\"text-warning ml-1\\\"> R${{extrato.total}}</span> para o jogador <span class=\\\"text-primary ml-1\\\">{{extrato.userId}}</span></div> <small class=\\\"log-time\\\">{{timeSince(extrato.registerDate)}}</small> </div> </div> </div> </div> <a class=\\\"border-top px-3 py-2 d-block text-gray\\\" href=\\\"#\\\"> <small class=\\\"font-weight-medium\\\"><i class=\\\"mdi mdi-chevron-down mr-2\\\"></i> View All </small> </a> </div> </div> <div class=\\\"modal fade\\\" id=\\\"sacarModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"sacarModalLabel\\\" aria-hidden=\\\"true\\\"> <div class=\\\"modal-dialog modal-dialog-centered\\\"> <div class=\\\"modal-content\\\"> <div class=\\\"row\\\"> <div class=\\\"col-12 equel-grid\\\"> <div class=\\\"grid\\\"> <p class=\\\"grid-header\\\">Saque</p> <div class=\\\"grid-body\\\"> <div class=\\\"table-responsive\\\"> <form> <div class=\\\"form-group\\\"> <label for=\\\"inputName\\\">Valor</label> <input type=\\\"number\\\" class=\\\"form-control\\\" id=\\\"inputName\\\" placeholder=\\\"Informe o valor\\\" ng-model=\\\"saque.Total\\\"> </div> <button type=\\\"submit\\\" class=\\\"btn btn-sm btn-primary float-right\\\" ng-click=\\\"sacar()\\\" data-dismiss=\\\"modal\\\">Sacar</button> </form> </div> </div> </div> </div> </div> </div> </div> </div> <div class=\\\"modal fade\\\" id=\\\"depositoModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"depositoModalLabel\\\" aria-hidden=\\\"true\\\"> <div class=\\\"modal-dialog modal-dialog-centered\\\"> <div class=\\\"modal-content\\\"> <div class=\\\"row\\\"> <div class=\\\"col-12 equel-grid\\\"> <div class=\\\"grid\\\"> <p class=\\\"grid-header\\\">Depósito</p> <div class=\\\"grid-body\\\"> <div class=\\\"table-responsive\\\"> <form> <div class=\\\"form-group\\\"> <label for=\\\"inputName\\\">Valor</label> <input type=\\\"number\\\" class=\\\"form-control\\\" id=\\\"inputName\\\" placeholder=\\\"Informe o valor\\\" ng-model=\\\"deposito.Total\\\"> </div> <button type=\\\"submit\\\" class=\\\"btn btn-sm btn-primary float-right\\\" ng-click=\\\"depositar()\\\" data-dismiss=\\\"modal\\\">Depositar</button> </form> </div> </div> </div> </div> </div> </div> </div> </div> <div class=\\\"modal fade\\\" id=\\\"transferenciaModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"transferenciaModalLabel\\\" aria-hidden=\\\"true\\\"> <div class=\\\"modal-dialog modal-dialog-centered\\\"> <div class=\\\"modal-content\\\"> <div class=\\\"row\\\"> <div class=\\\"col-12 equel-grid\\\"> <div class=\\\"grid\\\"> <p class=\\\"grid-header\\\">Transferir</p> <div class=\\\"grid-body\\\"> <div class=\\\"table-responsive\\\"> <form> <div class=\\\"form-group\\\"> <label for=\\\"inputName\\\">ID do jogador</label> <input type=\\\"number\\\" class=\\\"form-control\\\" id=\\\"inputName\\\" placeholder=\\\"ID do jogador\\\" ng-model=\\\"transferencia.ToUserId\\\"> </div> <div class=\\\"form-group\\\"> <label for=\\\"inputName\\\">Valor</label> <input type=\\\"number\\\" class=\\\"form-control\\\" id=\\\"inputName\\\" placeholder=\\\"Informe o valor\\\" ng-model=\\\"transferencia.Total\\\"> </div> <button type=\\\"submit\\\" class=\\\"btn btn-sm btn-primary float-right\\\" ng-click=\\\"transferir()\\\" data-dismiss=\\\"modal\\\">Depositar</button> </form> </div> </div> </div> </div> </div> </div> </div> </div>\"\r\n  );\r\n\n}]);\n"],"file":"scripts.js"}